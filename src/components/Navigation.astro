---
import ButtonLink from "src/components/ButtonLink.astro";
import Burger from "src/components/Burger.astro";
import Icon from "src/components/Icon.astro";
const delimiters = [
  " ",
  ",",
  ".",
  "/",
  "\\",
  "|",
  "^",
  "&",
  ">",
  "<",
  "_",
  "~",
  "%",
  "+",
];
const randomDelimeter =
  delimiters[Math.floor(Math.random() * delimiters.length)];

const links = {
  Home: "/",
  Posts: "/posts",
};

const socials = { tg: "", gmail: "", github: "" };

const isNotLast = (i: number, obj: {}) => i !== Object.keys(obj).length - 1;

const groupedLinks = { ...links, ...socials };
---

<nav class="py-4">
  <Burger links={groupedLinks} />
  <div class="justify-between hidden sm:flex">
    <ul class="flex items-center">
      {
        Object.entries(socials).map(([label, href], i) => {
          return (
            <a class="px-1" href={href}>
              <Icon icon={label} />
            </a>
          );
        })
      }
    </ul>
    <ul class="flex items-center">
      {
        Object.entries(links).map(([label, href], i) => {
          return (
            <>
              <ButtonLink href={href} label={label} />
              {isNotLast(i, links) && (
                <p class="w-5 text-center">{randomDelimeter}</p>
              )}
            </>
          );
        })
      }
    </ul>
  </div>
</nav>
<script></script>
